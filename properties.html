
<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bmd Immobilier - العقارات</title>
    <link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=El+Messiri:wght@400..700&display=swap" rel="stylesheet">
	<!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SHSH00W6VD"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-SHSH00W6VD');
    </script>
</head>
<body>
    <!-- Header -->

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <h1 class="page-title">جميع العقارات</h1>
            
            <!-- Filters -->
            <div class="filters">
                <div class="filters-row">
                    <div class="filter-group">
                        <label class="filter-label">نوع العقار</label>
                        <select id="type-filter" class="filter-select" onchange="applyFilters()">
                            <option value="">جميع الأنواع</option>
                            <option value="شقة">شقة</option>
							<option value="منزل">منزل</option>
                            <option value="فيلا">فيلا</option>
                            <option value="محل">محل</option>
                            <option value="أرض">أرض</option>
                            <option value="مكتب">مكتب</option>
                        </select>
                    </div>
					
                    
                    <div class="filter-group">
                        <label class="filter-label">المدينة</label>
                        <select id="city-filter" class="filter-select" onchange="applyFilters()">
                            <option value="">جميع المدن</option>
                            <option value="بامنديل">بامنديل</option>
							<option value="مخادمة">مخادمة</option>
							<option value="سيدي خويلد">سيدي خويلد</option>
                            <option value="بوعامر">بوعامر</option>
							<option value="سعيد عتبة">سعيد عتبة</option>
							<option value="الخفجي">الخفجي</option>
                        </select>
                    </div>
					
					<div class="filter-group">
                        <label class="filter-label">جميع العروض</label>
                        <select id="offer-filter" class="filter-select" onchange="applyFilters()">
                            <option value="">جميع العروض</option>
                            <option value="للبيع">للبيع</option>
                            <option value="للإيجار">للإيجار</option>
							<option value="للاستثمار">للاستثمار</option>
                        </select>
                    </div>
					
					
					<div class="filter-group">
                       <label class="filter-label">الوثائق</label>
                       <select id="document-filter" class="filter-select" onchange="applyFilters()">
                            <option value="">جميع الوثائق</option>
                            <option value="دفتر عقاري">دفتر عقاري</option>
						    <option value="للكراء">للكراء</option>
                            <option value="عقد عرفي">عقد عرفي</option>
							<option value="قرار">قرار</option>
							<option value="عقد شيوع">عقد شيوع</option>
							<option value="عقد موثق">عقد موثق</option>
                            <option value="عقد ملكية">عقد ملكية</option>
                        </select>
                    </div>

                    
                    <div class="filter-group">
                        <label class="filter-label">السعر الأدنى</label>
                        <input type="number" id="min-price" class="filter-input" placeholder="0" onchange="applyFilters()">
                    </div>
                    
                    <div class="filter-group">
                        <label class="filter-label">السعر الأعلى</label>
                        <input type="number" id="max-price" class="filter-input" placeholder="5000000" onchange="applyFilters()">
                    </div>
                    
                    <div class="filter-group">
                        <button class="btn" onclick="clearFilters()">مسح الفلاتر</button>
                    </div>
                </div>
            </div>

            <!-- Properties Count -->
            <div class="mb-20">
                <p class="text-gold">عدد العقارات: <span id="properties-count">0</span></p>
            </div>

            <!-- Properties Grid -->
            <div id="properties-grid" class="properties-grid">
                <!-- Properties will be loaded here by JavaScript -->
            </div>

            <!-- No Results Message -->
            <div id="no-results" class="text-center hidden">
                <div class="card">
                    <h3 class="text-gold">لا توجد عقارات تطابق معايير البحث</h3>
                    <p>جرب تغيير الفلاتر أو مسحها للعثور على عقارات أخرى</p>
                    <button class="btn mt-20" onclick="clearFilters()">مسح الفلاتر</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <div class="nav-container">
            <a href="index.html" class="nav-item">
                <div class="nav-icon"><i class="fas fa-home"></i></div>
                <div class="nav-text">الرئيسية</div>
            </a>
            <a href="properties.html" class="nav-item active">
                <div class="nav-icon"><i class="fas fa-building"></i></div>
                <div class="nav-text">العقارات</div>
            </a>
            <a href="categories.html" class="nav-item">
                <div class="nav-icon"><i class="fa-solid fa-circle-plus"></i></div>
                <div class="nav-text">نشر عقار</div>
            </a>
            <a href="favorites.html" class="nav-item">
                <div class="nav-icon"><i class="fas fa-heart"></i></div>
                <div class="nav-text">المفضلة</div>
            </a>
            <a href="settings.html" class="nav-item">
                <div class="nav-icon"><i class="fas fa-cog"></i></div>
                <div class="nav-text">الإعدادات</div>
            </a>
        </div>
    </nav>

    <!-- Scripts -->
    <script src="data.js"></script>
    <script src="script.js"></script>
    <script>
        // Properties page specific functions
        function loadPropertiesPage() {
            loadAllProperties();
        }

        function loadAllProperties() {
            const container = document.getElementById('properties-grid');
            const countElement = document.getElementById('properties-count');
            const noResultsElement = document.getElementById('no-results');
            
            if (!container) return;

            container.innerHTML = '';
            
            if (filteredProperties.length === 0) {
                noResultsElement.classList.remove('hidden');
                countElement.textContent = '0';
                return;
            } else {
                noResultsElement.classList.add('hidden');
            }

            countElement.textContent = filteredProperties.length;

            filteredProperties.forEach(property => {
                const propertyCard = createPropertyCard(property);
                container.appendChild(propertyCard);
            });
        }

        function applyFilters() {
    const typeFilter = document.getElementById('type-filter').value;
    const cityFilter = document.getElementById('city-filter').value;
    const documentFilter = document.getElementById('document-filter').value; // فلتر الوثائق
	const offerFilter = document.getElementById('offer-filter').value;
    const minPrice = parseFloat(document.getElementById('min-price').value) || 0;
    const maxPrice = parseFloat(document.getElementById('max-price').value) || Infinity;

    filteredProperties = properties.filter(property => {
        // Type filter
        if (typeFilter && property.type !== typeFilter) {
            return false;
        }

        // City filter
        if (cityFilter && property.city !== cityFilter) {
            return false;
        }

        // Document filter
        if (documentFilter && property.document !== documentFilter) {
            return false;
        }
		
		// offer filter
        if (offerFilter && property.offer !== offerFilter) {
            return false;
        }

        // Price filter
        const propertyPrice = parseFloat(property.price.replace(/[^\d]/g, ''));
        if (propertyPrice < minPrice || propertyPrice > maxPrice) {
            return false;
        }

        return true;
    });

    loadAllProperties();
}


        function clearFilters() {
    document.getElementById('type-filter').value = '';
    document.getElementById('city-filter').value = '';
    document.getElementById('document-filter').value = ''; // إعادة الوثائق للوضع الافتراضي
	document.getElementById('offer-filter').value = '';
    document.getElementById('min-price').value = '';
    document.getElementById('max-price').value = '';
    
    filteredProperties = [...properties];
    loadAllProperties();
}


        // Initialize filters on page load
        document.addEventListener('DOMContentLoaded', function() {
            filteredProperties = [...properties];
        });
    </script>
</body>
</html>

